{
  "type": "machine",
  "name": "Elegoo Centauri Carbon 2 0.4 nozzle",
  "inherits": "fdm_elegoo_3dp_001_common",
  "from": "system",
  "setting_id": "ECC204",
  "instantiation": "true",
  "nozzle_diameter": [
    "0.4"
  ],
  "host_type": "elegoolink",
  "printer_model": "Elegoo Centauri Carbon 2",
  "printer_variant": "0.4",
  "auxiliary_fan": "1",
  "printable_area": [
    "0x0",
    "257x0",
    "257x257",
    "0x257"
  ],
  "printable_height": "257",
  "retract_lift_below": [
      "255"
  ],
  "bed_exclude_area": [
    "246x0",
    "256x0",
    "256x20",
    "246x20"
  ],
  "thumbnails": [
  "144x144"
  ],
  "machine_max_acceleration_travel": [
    "20000",
    "20000"
  ],
  "default_filament_profile": [
    "Elegoo PLA @ECC2"
  ],
  "default_print_profile": "0.20mm Standard @Elegoo CC2 0.4 nozzle",
  "extruder_offset": [
    "0x0"
  ],
  "fan_speedup_time": "0.5",
  "machine_load_filament_time": "29",
  "machine_unload_filament_time": "28",
  "nozzle_type": "hardened_steel",
  "scan_first_layer": "1",
  "upward_compatible_machine": [
  ],
  "manual_filament_change": "0",
  "auto_toolchange_command": "0",
  "purge_in_prime_tower": "0",
  "gcode_flavor": "klipper",
  "machine_pause_gcode": "M600",
  "bed_mesh_local":"1",
  "support_multi_filament": "1",
  "bed_mesh_max": "243,245",
  "bed_mesh_min": "10,10",
  "change_filament_gcode": "\n;==========CC2-01.01.06.00 - 换料==========\n;===== date: 2025-08-17-002 =====================\n\n{if flush_length_1 > 23.7}\n\n\nSET_CONDITION J=0 A=ENABLE_CANVAS B=1    ;判断是否启用canvas\n\n;G1 X[x_after_toolchange] Y[y_after_toolchange] Z[z_after_toolchange] F12000\n;LITE\n;记录当前坐标位置为暂停坐标位置，以便异常后恢复打印\n\nM204 S10000\n;抬升Z\nG1 Z{max_layer_z + 5.0} F1200\n\n;移动到切料位置并切断耗材\nG1 X245 Y25 F15000\nG1 X254 F3000\nG1 Y3 F600\nM400\n\n;判断切刀位置传感器是否被正常触发，否则先XY归零，再次切断耗材\n;再次判断是否正常触发，否则切刀位置异常\n\n\nG92 E0\nM83\nG1 E-[old_retract_length_toolchange] F1800\nM400\n\n;关闭风扇\nM106 S0\nM106 P2 S0\n\n;移动至废料桶\nG1 X203 Y250 F10000\nG1 Y263 F3000\n\n;先将部分旧耗材挤出，但避免在喉管内融化\nG1 E10 F[old_filament_e_feedrate]\nM400\n\n;执行预退料指令，以避免canvas齿轮啮合导致退料失败\nCANVAS_MESH_GEAR DIST=-2 SPEED=40 TIME=2\nG1 E-45 F600\nM400\n\n\n{if old_filament_temp > 142 && next_extruder < 255}\nM104 S[old_filament_temp]\n{endif}\n\n\n;切换到当前工具头\nT[next_extruder]\nCANVAS_SWITCH_FILAMENT T=[next_extruder]\nM400\nCANVAS_MESH_GEAR DIST=15 SPEED=50 TIME=10\n\n;进料和冲刷\n{if flush_length_1 > 23.7}\nG1 E23.7 F{old_filament_e_feedrate} ; do not need pulsatile flushing for start part\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{old_filament_e_feedrate}\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}\n{else}\nG1 E{flush_length_1} F{old_filament_e_feedrate}\n{endif}\n; FLUSH_END\nG1 E-[old_retract_length_toolchange] F1800\nG1 E[old_retract_length_toolchange] F300\n\n\n{if flush_length_2 > 1}\n\nG91\nG1 X-2 F12000; move aside to extrude\nG90\nM83\n\n; FLUSH_START\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\n; FLUSH_END\nG1 E-[new_retract_length_toolchange] F1800\nG1 E[new_retract_length_toolchange] F300\n{endif}\n\n{if flush_length_3 > 1}\n\nG91\nG1 X2 F12000; move aside to extrude\nG90\nM83\n\n; FLUSH_START\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\n; FLUSH_END\nG1 E-[new_retract_length_toolchange] F1800\nG1 E[new_retract_length_toolchange] F300\n{endif}\n\n{if flush_length_4 > 1}\n\nG91\nG1 X-2 F12000; move aside to extrude\nG90\nM83\n\n; FLUSH_START\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\n; FLUSH_END\n{endif}\n\n; FLUSH_START\nM400\nM109 S[new_filament_temp]\n;G1 E2 F{new_filament_e_feedrate} ;Compensate for filament spillage during waiting temperature\n; FLUSH_END\n\n\n\nM400\nG92 E0\nG1 E-[new_retract_length_toolchange] F1800\nM106 S255\nG4 P3000\n\nM204 S15000\n;晃掉废料，同时适当回抽\nG1 Y261 E-0.1 F3000\nG1 Y263 E-0.1 F10000\nM400\nG1 Y261 E-0.1 F3000\nG1 Y263 E-0.1 F10000\nM400\nG1 X188 F10000\n;擦拭同时回抽\nG1 X187 F10000\nG1 X168 E-0.1\nG1 X187\nG1 X168 E-0.1\nG1 X187\nG1 X176 E-0.1\n\n\nM400\nG1 Z{max_layer_z + 3.0} F3000\n{if layer_z <= (initial_layer_print_height + 0.001)}\n;M204 S[initial_layer_acceleration]\n{else}\n;M204 S[default_acceleration]\n{endif}\nM204 S[default_acceleration]\n;G1 X[x_after_toolchange] Y[y_after_toolchange] Z[z_after_toolchange] F12000\nSET_CONDITION_END\n\n{endif}\n\n\n\n",
  "disable_m73": "0",
  "layer_change_gcode": "M73 L{layer_num+1}\n;LAYER:{layer_num+1}\n\n\n\n\n\n",
  "machine_end_gcode": "\n;===== CC2-01.01.06.00 - END Gcode ================\n;===== date: 2025-08-17-002 =====================\nM140 S0 ;Turn-off bed\nM106 S255 ;Cooling nozzle\nM83\nG92 E0 ; zero the extruder\nG1 E-0.8\nG2 I0 J1 Z{max_layer_z+0.5} E-0.5 F3000 ; lower z a little\nG90\n{if max_layer_z > 75}G1 Z{min(max_layer_z+5, printable_height+0.5)} F20000{else}G1 Z80 F20000 {endif}; Move print head up \n\n;如果存在CANVAS才需要执行以下gcode\nSET_CONDITION J=0 A=ENABLE_CANVAS B=1    ;判断是否启用canvas\n\n;切断耗材\nG1 X245 Y25 F15000\nG1 X254 F3000\nG1 Y3 F600\nM400\n\nG92 E0\nM83\nG1 E-0.8 F120\nM400\n\n;关闭风扇\nM106 S50\nM106 P2 S0\n;移动至废料桶\nG1 X204 Y250 F10000\nG1 Y263 F3000\n\n\n;先将部分旧耗材挤出，但避免在喉管内融化\nG1 E10 F150\nM400\n\n;执行预退料指令，以避免canvas齿轮啮合导致退料失败\nCANVAS_MESH_GEAR DIST=-1 SPEED=100 TIME=1\nM400\n\n;挤出机退料\nG1 E-50 F1200\n;CANVAS退料\nM400\nCANVAS_MESH_GEAR DIST=-100 SPEED=50 TIME=20\nG1 E-30 F1200\nM400\n\nSET_CONDITION_END\n\n\nM204 S5000\nM82\nG1 X203 Y250 F20000\nG1 Y263 F1000\nG92 E0\nM400\nM104 S0 ;Turn-off hotend\nM400\nM140 S0 ;Turn-off bed\nM400\nM106 S0 ; turn off fan\nM400\nM106 P2 S0\nM400\nM106 P3 S0\nM400\nM84 ;Disable all steppers\nM400\n;设置平台表面粗糙度\nSET_GCODE_OFFSET BED_ROUGHNESS=0.0\nM400\nBED_MESH_PROFILE LOAD=default\n\n\n\n",
  "machine_max_jerk_x": [
      "20",
      "9"
  ],
  "machine_max_jerk_y": [
      "20",
      "9"
  ],
  "machine_start_gcode": "\n;===== CC2-01.01.06.00 - Start Gcode ================\n;===== date: 2025-08-18-001 =====================\nG90\nM106 S0\nM106 P2 S0\nM106 P3 S0\nM104 S180\nM140 S[bed_temperature_initial_layer_single]\nG28 X Y\nM204 S10000\nG1 X203 Y250 F20000\nG1 Y264 F3000\nM109 S200\nM106 S200\nM109 S180\nM104 S140\nG1 X176 Y250 F12000\nG1 Y262 F6000\nG2 I2 J0 F3000\nG2 I2 J0 F3000\nG2 I2 J0 F3000\nG2 I2 J0 F3000\nG1 X176 F15000\nG1 X187\nG1 X168\nG1 X187\nG1 X168\nG1 X176\nG3 I2 J0 F3000\nG3 I2 J0 F3000\nG3 I2 J0 F3000\nG1 Y250 X180 F12000\nG1 Y262\nG1 X168 F15000\nG1 X187\nG1 X168\nG1 X187\nG1 X168\nM106 S100\nBED_MESH_CLEAR\nG28 Z I128 J255 K0.1 L4 \nM106 S200\nG90\nG1 X128 Y262 Z1 F600\nG2 Z0 I0.6 J0 F600\nG2 Z-0.6 I0.6 J0 F600\nG2 X130 I0.6 J0 F600\nG2 X132 I0.6 J0 F600\nG2 X134 I0.6 J0 F600\nG1 F600\nG1 X120\nG1 X136\nG1 X120\nG1 X136\nG1 X120\nG3 X122 I0.6 J0 F600\nG3 X124 I0.6 J0 F600\nG3 X126 I0.6 J0 F600\nG3 X128 I0.6 J0 F600\nG3 Z0.2 I0.6 J0 F600\nG1 Z10 F600\nG1 X176 Y250 F12000\nG1 Y262\nG1 X187 F15000\nG1 X168\nG1 X187\nG1 X168\nG1 X187\nG1 X168\nG1 X128 Y262 F15000\nG1 Z0.2 F600\nG2 Z0 I0.6 J0 F600\nG2 Z-0.6 I0.6 J0 F600\nG2 X130 I-0.6 J0 F600\nG2 X132 I-0.6 J0 F600\nG2 X134 I-0.6 J0 F600\nG1 F600\nG1 X120\nG1 X136\nG1 X120\nG1 X128\nM109 S140\nM190 S[bed_temperature_initial_layer_single] A\nM106 S0\nG2 Z0 I0.6 J0 F600\nG2 Z0.6 I0.6 J0 F600\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nM400\n;打印前归零\nM190 S[bed_temperature_initial_layer_single]\nG1 X20 Y20 F20000\nG28\nSET_GCODE_OFFSET Z=-0.06\nM400\n\n;====打印校准====\n\n{if (max(3,first_layer_print_size[0]/29) > 6) or (max(3,first_layer_print_size[1]/29) >= 6) }\n;如果启用打印前调平，执行以下调平流程\nBED_MESH_CALIBRATE PROFILE=A MESH_MIN={max(first_layer_print_min[0]-10,10)},{max(first_layer_print_min[1]-10,10)} MESH_MAX={min(243,first_layer_print_min[0]+first_layer_print_size[0]+10)},{min(246,first_layer_print_min[1]+first_layer_print_size[1]+10)} PROBE_COUNT={max(4,round(first_layer_print_size[0])/29)},{max(4,round(first_layer_print_size[1])/29)}  ALGORITHM=BICUBIC FROM_SLICER=1\n\n{else}\n \nBED_MESH_CALIBRATE PROFILE=A MESH_MIN={max(first_layer_print_min[0]-10,10)},{max(first_layer_print_min[1]-10,10)} MESH_MAX={min(243,first_layer_print_min[0]+first_layer_print_size[0]+10)},{min(246,first_layer_print_min[1]+first_layer_print_size[1]+10)} PROBE_COUNT={max(3,round(first_layer_print_size[0])/29)},{max(3,round(first_layer_print_size[1])/29)}  ALGORITHM=LAGRANGE FROM_SLICER=1\n\n{endif}\nM400\nSAVE_CONFIG\nM400\nG28 Z\nM400\nBED_MESH_PROFILE LOAD=default\nM400\n\n;====结束====\n\n\n;预设加速度，划线准备打印\nM204 S{min(20000,max(1000,outer_wall_acceleration))} ;Call exterior wall print acceleration\n\n;lite-gcode\n;移动到废料桶位置\nG1 X203 Y250 F20000\nG1 Y264 F3000\n\n ;当前工具头耗材的最高打印温度\nM109 S[nozzle_temperature_initial_layer]\n;M104 S{nozzle_temperature_range_high[initial_no_support_extruder]} \n\n\n;切换工具头之前先切断耗材并退料\n\n\n;如果存在CANVAS才需要执行以下gcode\nSET_CONDITION J=0 A=ENABLE_CANVAS B=1    ;判断是否启用canvas\n\n;移动到切料位置并切断耗材\nG1 X245 Y25 F15000\nG1 X254 F3000\nG1 Y3 F600\nM400\n;移动到废料桶位置\nG1 X203 Y250 F20000\nG1 Y264 F3000\n\n;挤出机退料\nG1 E-40 F1200\nCANVAS_MESH_GEAR DIST=-2 SPEED=50 TIME=2\nM400\n\n\n;切换到当前工具头\nT[initial_no_support_extruder] \nCANVAS_SWITCH_FILAMENT T=[initial_no_support_extruder]\nM400\nCANVAS_MESH_GEAR DIST=15 SPEED=50 TIME=10\n;咬住耗材\nG1 E20 F600\n\n;清空喷嘴残留耗材\nM83\nG92 E0\n;取消等待5秒，改为微微进料5秒，以便及时咬住耗材\nG1 E5 F60\nG1 E10 F300\nM400\nG4 P2000\nG1 E10 F150\nM400\nG1 E10 F300\nM400\nG4 P2000\nG1 E10 F150\nM400\nG1 E10 F300\nM400\nG4 P2000\nG1 E10 F150\nM400\nG1 E10 F300\nM400\nG4 P2000\nG1 E10 F150\nM400\nG1 E10 F300\nM400\nG4 P2000\nG1 E10 F150\nM400\n\nG92 E0\nG1 E-0.5 F1800\nM106 S255\nG4 P3000\n\nM204 S15000\n;晃掉废料，同时适当回抽\nG1 Y261 E-0.1 F3000\nG1 Y263 E-0.1 F10000\nM400\nG1 Y261 E-0.1 F3000\nG1 Y263 E-0.1 F10000\nM400\nG1 X188 F10000\n;擦拭同时回抽\nG1 X187 F10000\nG1 X168 E-0.1\nG1 X187\nG1 X168 E-0.1\nG1 X187\nG1 X176 E-0.1\nM106 S0\nSET_CONDITION_END\n\n;移动至画线起始位置\nG1 X{print_bed_max[0]*0.5-1} Y-1.2 F20000\nG1 Z0.5 F900\nM109 S[nozzle_temperature_initial_layer]\n;M104 S250\nM83\nG92 E0 ;Reset Extruder\n\n\n;--------------擦拭线开始-----------------\n\n;调试中\n{if filament_type[initial_extruder] != \"TPU\"}\nG1 E10 F{min(1200, max(120, filament_max_volumetric_speed[initial_no_support_extruder]*60/2/2.5043))} \nM106 S200\nG1 X{print_bed_max[0]*0.5-41} E20 F{min(12000, max(1200, filament_max_volumetric_speed[initial_no_support_extruder]*60/2/2.5043))} \nG1 F6000\nG1 X{print_bed_max[0]*0.5-46} E0.8\nM106 S0\n;--------------擦拭线结束-----------------\n\n{else}\n;--------------擦拭线开始-----------------\nG1 F{min(6000, max(900, filament_max_volumetric_speed[initial_no_support_extruder]/0.5/0.3*60))} \nG1 X-1.2 E10.156 ;Draw the first line\nG1 Y98.8 E7.934\nG1 X-0.5 Y100 E0.1\nG1 Y-0.3 E7.934\nG1 X{print_bed_max[0]*0.5-50} E6.284\nG1 F{0.2*min(12000, max(1200, filament_max_volumetric_speed[initial_no_support_extruder]/0.5/0.3*60))} \nG1 X{print_bed_max[0]*0.5-30} E2\nG1 F{min(12000, max(1200, filament_max_volumetric_speed[initial_no_support_extruder]/0.5/0.3*60))} \nG1 X{print_bed_max[0]*0.5-10} E2\nG1 F{0.2*min(12000, max(1200, filament_max_volumetric_speed[initial_no_support_extruder]/0.5/0.3*60))} \nG1 X{print_bed_max[0]*0.5+10} E2\nG1 F{min(12000, max(1200, filament_max_volumetric_speed[initial_no_support_extruder]/0.5/0.3*60))} \nG1 X{print_bed_max[0]*0.5+30} E2\nG1 F{min(12000, max(1200, filament_max_volumetric_speed[initial_no_support_extruder]/0.5/0.3*60))} \nG1 X{print_bed_max[0]*0.5+50} E2\n;End PA test.\n\n;--------------擦拭线结束-----------------\n\n{endif}\n;G3 I0 J1 Z0.6 F1200.0 ;Move to side a little\n;M400\nBED_MESH_PROFILE LOAD=A FROM_SLICER=1\n\nG1 F20000\nG92 E0 ;Reset Extruder\n;LAYER_COUNT:[total_layer_count]\n;LAYER:0\n\n\n",
  "retract_restart_extra_toolchange": [
      "0.5"
  ]
}