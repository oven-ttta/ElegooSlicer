{
  "type": "machine",
  "name": "Elegoo Centauri Carbon 2 0.4 nozzle",
  "inherits": "fdm_elegoo_3dp_001_common",
  "from": "system",
  "setting_id": "ECC204",
  "instantiation": "true",
  "nozzle_diameter": [
    "0.4"
  ],
  "host_type": "elegoolink",
  "printer_model": "Elegoo Centauri Carbon 2",
  "printer_variant": "0.4",
  "auxiliary_fan": "1",
  "printable_area": [
    "0x0",
    "257x0",
    "257x257",
    "0x257"
  ],
  "printable_height": "257",
  "retract_lift_below": [
    "255"
  ],
  "bed_exclude_area": [
    "246x0",
    "256x0",
    "256x20",
    "246x20"
  ],
  "bed_texture_area": [
    "0x-10",
    "257x-10",
    "257x257",
    "0x257"
  ],
  "thumbnails": [
    "144x144"
  ],
  "machine_max_acceleration_travel": [
    "20000",
    "20000"
  ],
  "default_filament_profile": [
    "Elegoo PLA @ECC2"
  ],
  "default_print_profile": "0.20mm Standard @Elegoo CC2 0.4 nozzle",
  "extruder_offset": [
    "0x0"
  ],
  "fan_speedup_time": "0.5",
  "machine_load_filament_time": "29",
  "machine_unload_filament_time": "28",
  "nozzle_type": "hardened_steel",
  "scan_first_layer": "1",
  "upward_compatible_machine": [],
  "manual_filament_change": "0",
  "auto_toolchange_command": "0",
  "purge_in_prime_tower": "0",
  "gcode_flavor": "klipper",
  "machine_pause_gcode": "M600",
  "bed_mesh_local": "1",
  "support_multi_filament": "1",
  "bed_mesh_max": "243,245",
  "bed_mesh_min": "10,10",
  "disable_m73": "0",
  "layer_change_gcode": "M73 L{layer_num+1}\n;LAYER:{layer_num+1}\n\n\n\n\n\n",
  "machine_max_jerk_x": [
    "20",
    "9"
  ],
  "machine_max_jerk_y": [
    "20",
    "9"
  ],
  "change_filament_gcode": "\n;==========Filament Change==========\n;===== date: 2025-09-06-001 =====================\n;===== 01.01.09.07 =====================\n\n\nSET_CONDITION J=0 A=PRINT_TOOL B=[next_extruder]\n\nM204 S10000\n;Raise Z while avoiding movement beyond maximum range\nG1 Z{min(max_layer_z+3, printable_height+0.5)} F1200\n\n\nG92 E0\nG1 E-[old_retract_length_toolchange] F1800\nM400\n\n;Set fan speed\nM106 S80\n\n\n\n\n{if old_filament_temp > 142 && next_extruder < 255}\nM104 S[old_filament_temp]\n{endif}\n\n\n;Switch to current toolhead\nT[next_extruder]\nCANVAS_SWITCH_FILAMENT T=[next_extruder]\nM400\nG92 E0\n\n{if flush_length_1 > 1}\n; FLUSH_START\n; always use highest temperature to flush\nM400\nM2202 set_filament_type:UNKNOWN\nM109 S[nozzle_temperature_range_high]\nM106 S80\n{if flush_length_1 > 23.7}\nG1 E23.7 F{old_filament_e_feedrate} ; do not need pulsatile flushing for start part\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{old_filament_e_feedrate}\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}\nG1 E{(flush_length_1 - 23.7) * 0.02} F50\nG1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}\n{else}\nG1 E{flush_length_1} F{old_filament_e_feedrate}\n{endif}\n; FLUSH_END\nG1 E-[old_retract_length_toolchange] F1800\nG1 E[old_retract_length_toolchange] F300\nM400\nM2202 set_filament_type:{filament_type[next_extruder]}\n{endif}\n\n{if flush_length_1 > 45 && flush_length_2 > 1}\n; WIPE\nM400\nG1 X56 F10000\nM106 S200\nG4 P3000\nM204 S18999\nG1 Y261.1 E-0.1\nG1 Y264.1 E-0.1\nM400\nG1 Y261.1 E-0.1\nG1 Y264.1 E-0.1\nM400\nG1 X64 F8000\nG1 X80 E-0.1\nG1 X64\nG1 X80 E-0.1\n;G1 X64\n;G1 X80 E-0.1\nG1 X52 Y245 F10000\nG1 Y264 F3000\nM400\nM106 S80\n\n{endif}\n\n{if flush_length_2 > 1}\nM106 S80\n; FLUSH_START\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\nG1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_2 * 0.02} F50\n; FLUSH_END\nG1 E-[new_retract_length_toolchange] F1800\nG1 E[new_retract_length_toolchange] F300\n{endif}\n\n{if flush_length_2 > 45 && flush_length_3 > 1}\n; WIPE\nM400\nG1 X56 F10000\nM106 S200\nG4 P3000\nM204 S18999\nG1 Y261.1 E-0.1\nG1 Y264.1 E-0.1\nM400\nG1 Y261.1 E-0.1\nG1 Y264.1 E-0.1\nM400\nG1 X64 F8000\nG1 X80 E-0.1\nG1 X64\nG1 X80 E-0.1\n;G1 X64\n;G1 X80 E-0.1\nG1 X52 Y245 F10000\nG1 Y264 F3000\nM400\nM106 S80\n\n{endif}\n\n{if flush_length_3 > 1}\nM106 S80\n; FLUSH_START\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\nG1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_3 * 0.02} F50\n; FLUSH_END\nG1 E-[new_retract_length_toolchange] F1800\nG1 E[new_retract_length_toolchange] F300\n{endif}\n\n{if flush_length_3 > 45 && flush_length_4 > 1}\n; WIPE\nM400\nG1 X56 F10000\nM106 S200\nG4 P3000\nM204 S18999\nG1 Y261.1 E-0.1\nG1 Y264.1 E-0.1\nM400\nG1 Y261.1 E-0.1\nG1 Y264.1 E-0.1\nM400\nG1 X64 F8000\nG1 X80 E-0.1\nG1 X64\nG1 X80 E-0.1\n;G1 X64\n;G1 X80 E-0.1\nG1 X52 Y245 F10000\nG1 Y264 F3000\nM400\nM106 S80\n\n{endif}\n\n{if flush_length_4 > 1}\nM106 S80\n; FLUSH_START\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\nG1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}\nG1 E{flush_length_4 * 0.02} F50\n; FLUSH_END\n{endif}\n\nM400\nM106 S200\nG1 X54 F10000\nM109 S[new_filament_temp]\nG1 E6 F{new_filament_e_feedrate} ;Compensate for filament spillage during waiting temperature\nM400\nG92 E0\n; WIPE\nM400\nG1 X56 F10000\nM106 S200\nG4 P3000\nM204 S18999\nG1 Y261.1 E-{new_retract_length_toolchange/7} F10000\nG1 Y264.1 E-{new_retract_length_toolchange/7} F10000\nM400\nG1 Y261.1 E-{new_retract_length_toolchange/7} F10000\nG1 Y264.1 E-{new_retract_length_toolchange/7} F10000\nM400\nG1 X64 F8000\nG1 X80 E-{new_retract_length_toolchange/7}\nG1 X64\nG1 X80 E-{new_retract_length_toolchange/7}\nG1 X64\nG1 X80 E-{new_retract_length_toolchange/7}\nG1 X52 Y245 F10000\nG1 Y264 F3000\nM400\nM106 S80\n\n{if layer_z <= (initial_layer_print_height + 0.001)}\nM204 S[initial_layer_acceleration]\n{else}\nM204 S[default_acceleration]\n{endif}\n\nSET_CONDITION_END B=[next_extruder]    ;Print multi-color sliced gcode, if you want to map only one color or disable CANVAS without printing wipe tower and purge actions, write this command after wipe tower, but note that this command should be executed whether wipe tower is enabled or not\n\n",
  "machine_end_gcode": "\n;===== CC2 - END Gcode ================\n;===== date: 2025-09-06-001 =====================\n;===== 01.01.09.07 =====================\nM140 S0 ;Turn-off bed\nM106 S255 ;Cooling nozzle\nM83\nG92 E0 ; zero the extruder\nG1 E-0.8\nG2 I0 J1 Z{max_layer_z+0.5} E-0.5 F3000 ; lower z a little\n\n;Turn off fans\nM106 S50\nM106 P2 S0\n\nG90\n{if max_layer_z > 75}G1 Z{min(max_layer_z+5, printable_height+0.5)} F20000{else}G1 Z80 F20000 {endif}; Move print head up \n\n;Execute the following gcode only if CANVAS exists\nSET_CONDITION J=0 A=ENABLE_CANVAS B=1    ;Check if canvas is enabled, unload filament if enabled\n;Execute filament unload action\nM400\nCANVAS_UNLOAD_FILAMENT\nM400\nSET_CONDITION_END\n\n\n\n;Move to waste bin position\nM204 S5000\nM82\nG1 X52 Y245 F20000\nG1 Y264 F3000\nG92 E0\nM400\nM104 S0 ;Turn-off hotend\nM400\nM140 S0 ;Turn-off bed\nM400\nM106 S0 ; turn off fan\nM400\nM106 P2 S0\nM400\nM106 P3 S0\nM400\nM84 ;Disable all steppers\nM400\n\n\n\n\n;Set bed surface roughness\nSET_GCODE_OFFSET BED_ROUGHNESS=0.0\nM400\n\n;====Determine whether to use A-side or B-side, select corresponding bed mesh data====\nM400\nSET_CONDITION J=0 A=BED_MESH_PROFILE B=0 ;Check enabled bed mesh data, 0 represents A-side, 1 represents B-side\nBED_MESH_PROFILE LOAD=default\nSET_CONDITION_END\n\nSET_CONDITION J=0 A=BED_MESH_PROFILE B=1 ;Check enabled bed mesh data, 0 represents A-side, 1 represents B-side\nBED_MESH_PROFILE LOAD=default1\nSET_CONDITION_END\nM400\n;====End====\n\n\n",
  "machine_start_gcode": "\n;===== CC2 - Start Gcode ================\n;===== date: 2025-09-06-001 =====================\n;===== 01.01.09.07 =====================\n; slice_cfg_model: 1\n; If the above flag exists, do not execute PRINT_START_GCODE in firmware configuration. PRINT_START_GCODE mainly determines whether print calibration is checked and determines A/B side, and determines whether to perform leveling based on logic.\n; Avoid problem: If users use other slicing configurations or slicing software to initiate printing, leveling will not be executed\n\nG90\nM106 S0\nM106 P2 S0\nM106 P3 S0\nM104 S200\nM140 S[bed_temperature_initial_layer_single]\nG28 X Y   ;XY home first\n;New structure waste bin position\nG1 X52 Y245 F20000\nG1 Y264 F3000\n\n;Nozzle cleaning action - start\n;Wait for temperature\nG28 X Y TRY\nM204 S10000\nG1 X52 Y250 F12000\nG1 Y264 F3000\nM109 S200\nM106 S200\nM109 S180   ;Nozzle first heats to 180C to relieve pressure, remove stress and reduce possible structural deformation from cold extrusion\nM104 S140   ;Immediately cool down and wipe nozzle\n;Wipe nozzle at silicone wiper position\nG1 X80 F8000\nG1 X64\nG1 X80\nG1 X64\nG1 X80\nG1 X64\nG1 X80\nM106 S100\nBED_MESH_CLEAR ;Clear bed mesh data for backend homing and nozzle grinding\nG28 Z I128 J255 K0.1 L4  ;Perform low precision homing at rear center position\nM106 S200  ;Turn on fan, quickly cool down to 140C\nG1 X128 Y261 Z1 F600  ;Move to nozzle grinding position, perform grinding and wait for cooling\nG2 Z0 I0.6 J0 F600\nG2 Z-0.6 I0.6 J0 F600\nG2 X130 I0.6 J0 F600\nG2 X132 I0.6 J0 F600\nG2 X134 I0.6 J0 F600\nG1 F600\nG1 X120\nG1 X136\nG1 X120\nG1 X136\nG1 X120\nG3 X122 I0.6 J0 F600\nG3 X124 I0.6 J0 F600\nG3 X126 I0.6 J0 F600\nG3 X128 I0.6 J0 F600\nG3 Z0.2 I0.6 J0 F600\nG1 Z10 F600\nG1 X80 Y250 F12000\nG1 Y264 F3000\nG1 X64 F15000\nG1 X80\nG1 X64\nG1 X80\nG1 X64\nG1 X80\nG1 X128 Y261 F15000\nG1 Z0.2 F600\nG2 Z0 I0.6 J0 F600\nG2 Z-0.6 I0.6 J0 F600\nG2 X130 I-0.6 J0 F600\nG2 X132 I-0.6 J0 F600\nG2 X134 I-0.6 J0 F600\nG1 F600\nG1 X120\nG1 X136\nG1 X120\nG1 X128\n;Wait for nozzle and bed temperature\nM109 S140\nM106 S0\nM400\n\n;Nozzle cleaning action - end\n\n;Vibration elimination for deformation caused by hot bed grinding nozzle\nG2 Z0 I0.6 J0 F600\nG2 Z0.6 I0.6 J0 F600\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nG1 Z10 F3000\nG1 Z10.15 F3000\nM400\n\n;Nozzle cleaning action - end\n\n\n\n\n\n\n;Quick homing before printing, including Z-axis\n\nM190 S[bed_temperature_initial_layer_single] A\nM106 S0\n\n\n\n\n;Bed mesh application macro - start\n\nG28 X Y TRY\nG1 X20 Y20 F20000\nG28\nM400\n\n;====Check if A/B side bed mesh data exists, perform leveling if not====\nSET_CONDITION J=0 A=BED_MESH_PROFILE B=0 ;Check selected platform A/B side, 0 represents A-side, 1 represents B-side\nM400\n;Set bed surface roughness\nSET_GCODE_OFFSET BED_ROUGHNESS=-0.06 MOVE=1 MOVE_SPEED=1\nM400\nSET_CONDITION J=0 A=BED_MESH_DATEA B=0 ;Check if A-side bed mesh data is empty, execute if so\nBED_MESH_CALIBRATE PROFILE=default MESH_MIN=10,10 MESH_MAX=243,246 PROBE_COUNT=8,8 ALGORITHM=BICUBIC FROM_SLICER=2\nM400\nSAVE_CONFIG\nM400\nSET_CONDITION_END\n\nSET_CONDITION J=0 A=BED_MESH_PROFILE B=1 ;Check enabled bed mesh data, 0 represents A-side, 1 represents B-side\nM400\n;Set bed surface roughness\nSET_GCODE_OFFSET BED_ROUGHNESS=-0.015 MOVE=1 MOVE_SPEED=1\nM400\nSET_CONDITION J=0 A=BED_MESH_DATEB B=0 ;Check if B-side bed mesh data is empty, execute if so\nBED_MESH_CALIBRATE PROFILE=default1 MESH_MIN=10,10 MESH_MAX=243,246 PROBE_COUNT=8,8 ALGORITHM=BICUBIC FROM_SLICER=2\nM400\nSAVE_CONFIG\nM400\nSET_CONDITION_END\n;====End====\n\n\n;====Print Calibration====\n\n\nSET_CONDITION J=0 A=PRINT_CALIBRATE B=1 ;Check if print calibration is enabled\n{if (max(3,first_layer_print_size[0]/29) > 6) or (max(3,first_layer_print_size[1]/29) >= 6) }\n;If pre-print leveling is enabled, execute the following leveling process\nBED_MESH_CALIBRATE PROFILE=A MESH_MIN={max(first_layer_print_min[0]-10,10)},{max(first_layer_print_min[1]-10,10)} MESH_MAX={min(243,first_layer_print_min[0]+first_layer_print_size[0]+10)},{min(246,first_layer_print_min[1]+first_layer_print_size[1]+10)} PROBE_COUNT={max(4,round(first_layer_print_size[0])/29)},{max(4,round(first_layer_print_size[1])/29)}  ALGORITHM=BICUBIC FROM_SLICER=1\n\n{else}\n \nBED_MESH_CALIBRATE PROFILE=A MESH_MIN={max(first_layer_print_min[0]-10,10)},{max(first_layer_print_min[1]-10,10)} MESH_MAX={min(243,first_layer_print_min[0]+first_layer_print_size[0]+10)},{min(246,first_layer_print_min[1]+first_layer_print_size[1]+10)} PROBE_COUNT={max(3,round(first_layer_print_size[0])/29)},{max(3,round(first_layer_print_size[1])/29)}  ALGORITHM=LAGRANGE FROM_SLICER=1\n\n{endif}\nM400\nSAVE_CONFIG\nM400\nG28 Z\nSET_CONDITION_END\n\n\n;====Determine whether to use A-side or B-side, select corresponding bed mesh data====\nM400\nSET_CONDITION J=0 A=BED_MESH_PROFILE B=0 ;Check enabled bed mesh data, 0 represents A-side, 1 represents B-side\n\nBED_MESH_PROFILE LOAD=default\nSET_CONDITION_END\n\nSET_CONDITION J=0 A=BED_MESH_PROFILE B=1 ;Check enabled bed mesh data, 0 represents A-side, 1 represents B-side\n\nBED_MESH_PROFILE LOAD=default1\nSET_CONDITION_END\nM400\n\n;====End====\n\n;Bed mesh application macro - end\n\n\n\n\n\n\n\n\n;Preset acceleration, prepare for printing\nM204 S{min(20000,max(1000,outer_wall_acceleration))} ;Call exterior wall print acceleration\n\n;Move to waste bin position\nG1 X52 Y245 F20000\nG1 Y264 F3000\n\n ;Maximum print temperature for current toolhead filament\nM109 S[nozzle_temperature_initial_layer]\n\n;Set fan\nM106 S50\n\n\n\n\n\n\n;Filament change macro - start\n\n;Execute the following gcode only if CANVAS exists\nSET_CONDITION J=0 A=PRINT_TOOL B=[initial_no_support_extruder]\n\nM400\n\n;Switch to current toolhead\nT[initial_no_support_extruder] \nCANVAS_SWITCH_FILAMENT T=[initial_no_support_extruder]\nM400\n\n\n\n;Temporary test addition - start\nG1 X52 Y245 F10000\nG1 Y264 F1000\n;Temporary test addition - end\n\n\n;Clear residual filament from nozzle\n; FLUSH_START\nG1 E7.70804 F523\nG1 E0.856449 F50\nG1 E7.70804 F523\nG1 E0.856449 F50\nG1 E7.70804 F523\nG1 E0.856449 F50\nM73 P52 R15\nG1 E7.70804 F523\nG1 E0.856449 F50\nG1 E7.70804 F523\nG1 E0.856449 F50\n; FLUSH_END\nG1 E-2 F1800\nM106 S200\nG4 P5000\n\n\n\n\n;Shake off waste material while properly retracting\nM204 S18000\nG1 Y261.1 E-0.1 F10000\nG1 Y264.1 E-0.1 F10000\nM400\nG1 Y261.1 E-0.1 F10000\nG1 Y264.1 E-0.1 F10000\nM400\nG1 Y261.1 E-0.1 F10000\nG1 Y264.1 E-0.1 F10000\nM400\n\nG1 X64 F8000\nG1 X80 E-0.1\nG1 X64\nG1 X80 E-0.1\nG1 X64\nG1 X80 E-0.1\nM106 S0\n\nSET_CONDITION_END B=[initial_no_support_extruder]\n\n;Filament change macro - end\n\n\n\n\n\n\n\n;Move to line drawing start position\nG1 X{print_bed_max[0]*0.5-1} Y-1.2 F20000\nG1 Z0.5 F900\nM109 S[nozzle_temperature_initial_layer]\nM83\nG92 E0 ;Reset Extruder\n\n\n;--------------Wipe line start-----------------\n\nG1 E6 F{min(1200, max(120, filament_max_volumetric_speed[initial_no_support_extruder]*60/2/2.5043))} \nM106 S200\nG1 X{print_bed_max[0]*0.5-41} E20 F{min(12000, max(1200, filament_max_volumetric_speed[initial_no_support_extruder]*60/2/2.5043))} \nG1 F6000\nG1 X{print_bed_max[0]*0.5-46} E0.8\nM106 S0\n\n;--------------Wipe line end-----------------\n\n\n;Check if print calibration is enabled, apply print calibration bed mesh data if enabled\nSET_CONDITION J=0 A=PRINT_CALIBRATE B=1 \nBED_MESH_PROFILE LOAD=A FROM_SLICER=1\nSET_CONDITION_END\n\nG1 F20000\nG92 E0 ;Reset Extruder\n;LAYER_COUNT:[total_layer_count]\n;LAYER:0\n\n",
  "retract_restart_extra_toolchange": [
    "0.5"
  ]
}