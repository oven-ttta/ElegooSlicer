<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="Cache-Control" content="max-age=7200" />
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<title>Navigation</title>
	<link rel="stylesheet" type="text/css" href="./css/light.css" />
	<link rel="stylesheet" type="text/css" href="./css/dark.css" />

	<script type="text/javascript" src="../include/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="../include/json2.js"></script>
	<script type="text/javascript" src="../include/globalapi.js"></script>
	<script type="text/javascript" src="../data/text.js"></script>

	<script type="text/javascript" src="../thirdparty/vue/vue.global.prod.min.js"></script>
	<script type="text/javascript" src="../thirdparty/vue/pinia.iife.prod.js"></script>
	<script type="text/javascript" src="../thirdparty/vue/vue-i18n.global.prod.js"></script>
	<script type="text/javascript" src="../thirdparty/element-plus/index.full.min.js"></script>
	<script type="text/javascript" src="../utils/util.js"></script>
	<script type="text/javascript" src="../utils/ipc.js"></script>

	<script type="text/javascript" src="../locales/index.js"></script>
</head>

<body>
	<div id="app">
		<div id="left-board">
			<!-- User area - show different content based on login status -->
			<div id="user-area">
				<!-- Not logged in state -->
				<div v-if="userInfo.userId == ''" id="login-state" @click="onClickUserAvatar()">
					<div id="empty-avatar">
						<img src="img/default-avatar.svg" alt="Empty Avatar" />
					</div>
					<div id="login-text" class="text-s1">{{ $t("homepage.login") }}/{{ $t("homepage.register") }}</div>
				</div>

				<!-- Logged in state -->
				<div v-if="userInfo.userId != ''" id="user-state" @click.stop>
				<el-popover placement="bottom" :width="200" trigger="click" :show-arrow="false" offset="-4">
					<template #reference>
						<div id="user-info">
							<div id="user-avatar" @click.stop="onClickUserAvatar()">
								<img :src="userInfo.avatar || 'img/default-avatar.svg'" @error="handleImageError"
									alt="User Avatar" width="106" />
								<span class="user-status" :style="loginStatusStyle"></span>
							</div>
							<div id="user-details">
								<div id="user-name" class="text-s1">{{ userName }}</div>
								<div id="dropdown-arrow">
										<svg fill="none" version="1.1" width="20" height="20" viewBox="0 0 20 20">
											<defs>
												<clipPath id="master_svg0_152_05448">
													<rect x="20" y="0" width="20" height="20" rx="0" />
												</clipPath>
											</defs>
											<g transform="matrix(0,1,-1,0,20,-20)"
												clip-path="url(#master_svg0_152_05448)">
												<g>
													<path
														d="M27.3867681575,5.53022403Q27.2813000675,5.42475593,27.2242211075,5.28695518Q27.1671421575,5.14915444,27.1671421575,5Q27.1671421575,4.926146217,27.1815503875,4.85371152Q27.1959584975,4.78127682,27.2242211075,4.71304482Q27.2524837275,4.64481282,27.2935147275,4.58340567Q27.3345456675,4.52199849,27.3867681575,4.46977597Q27.4389906775,4.4175534800000005,27.5003978575,4.37652254Q27.5618050075,4.33549154,27.6300370075,4.30722892Q27.6982690075,4.27896631,27.7707037075,4.2645582Q27.8431384045,4.25014997,27.9169921875,4.25014997Q28.0661466275,4.25014997,28.2039473675,4.30722886Q28.3417481175,4.36430788,28.4472162175,4.46977597L28.4473222475,4.46966994L33.4473218875,9.4696703Q33.5528106875,9.5751591,33.6099013875,9.7129874Q33.6669911875,9.8508158,33.6669911875,10Q33.6669911875,10.1491842,33.6099009875,10.2870121Q33.5528106875,10.4248405,33.4473218875,10.5303297L28.4473222475,15.53033L28.4472165075,15.530224Q28.3417483575,15.635692,28.2039475475,15.69277Q28.0661467175,15.749849,27.9169921875,15.74985Q27.8431384045,15.749849,27.7707037075,15.735441Q27.6982690075,15.721033,27.6300370075,15.69277Q27.5618050075,15.664507,27.5003978575,15.623476Q27.4389906775,15.582445,27.3867681575,15.530224Q27.3345456675,15.478001,27.2935147275,15.416594Q27.2524837275,15.355186,27.2242211075,15.286955Q27.1959584975,15.218722,27.1815503875,15.146288Q27.1671421575,15.073853,27.1671421575,15Q27.1671421575,14.8508453,27.2242209875,14.7130442Q27.2812998875,14.575243,27.3867678675,14.4697762L27.3866621275,14.4696703L31.8563327875,10L27.3866621275,5.53033006L27.3867681575,5.53022403Z"
														fill-rule="evenodd" fill="currentColor"
														fill-opacity="0.800000011920929" />
												</g>
											</g>
										</svg>
									</div>
								</div>
							</div>
						</template>
						<div>
							<div class="logout-item" @click="onRelogin()">
								<svg fill="none" version="1.1" width="28" height="28" viewBox="0 0 28 28">
									<defs>
										<clipPath id="master_svg0_152_05429">
											<rect x="0" y="0" width="28" height="28" rx="0" />
										</clipPath>
									</defs>
									<g clip-path="url(#master_svg0_152_05429)">
										<g>
											<path
												d="M19.833984375,17.7919921875C19.355650375,17.7919921875,18.958984375,18.1886591875,18.958984375,18.666993187499997L18.958984375,21.0003281875C18.958984375,21.8053281875,18.305650375,22.4586621875,17.500652375,22.4586621875L8.167317375,22.4586621875C7.3623172750000005,22.4586621875,6.7089838749999995,21.8053281875,6.7089838749999995,21.0003281875L6.7089838749999995,7.0003254875C6.7089838749999995,6.1953253875000005,7.3623172750000005,5.5419919875,8.167317375,5.5419919875L17.500650375,5.5419919875C18.305650375,5.5419919875,18.958984375,6.1953253875000005,18.958984375,7.0003254875L18.958984375,9.3336581875C18.958984375,9.8119911875,19.355650375,10.2086581875,19.833984375,10.2086581875C20.312318375,10.2086581875,20.708984375,9.8119911875,20.708984375,9.3336581875L20.708984375,7.0003254875C20.708984375,5.2269918875000005,19.273985375000002,3.7919921875,17.500652375,3.7919921875L8.167317375,3.7919921875C6.393984475,3.7919921875,4.958984375,5.2269918875000005,4.958984375,7.0003254875L4.958984375,21.0003261875C4.958984375,22.7736601875,6.393984475,24.2086601875,8.167317875,24.2086601875L17.500650375,24.2086601875C19.273985375000002,24.2086601875,20.708984375,22.7736601875,20.708984375,21.0003261875L20.708984375,18.666991187500003C20.708984375,18.1886571875,20.312318375,17.791991187500003,19.833984375,17.7919921875Z"
												fill="currentColor" fill-opacity="1"
												style="mix-blend-mode:passthrough" />
										</g>
										<g>
											<path
												d="M25.118334,13.382004975000001L22.7849998,11.048671875C22.446665799999998,10.710338898,21.8866663,10.710338898,21.548334099999998,11.048671875C21.2100019,11.387004855,21.21,11.947004875,21.548334099999998,12.285338875L22.3883343,13.125338775L14,13.125338775C13.52166703,13.125338775,13.125,13.522006075,13.125,14.000338775C13.125,14.478671775,13.52166703,14.875339075,14,14.875339075L22.3883343,14.875339075L21.548334099999998,15.715338675C21.21,16.053671875,21.21,16.613671775,21.548334099999998,16.952005875C21.723334299999998,17.127006075,21.9449997,17.208672975,22.1666679,17.208672975C22.388336199999998,17.208672975,22.6100025,17.127006075,22.7850018,16.952005875L25.118337,14.618672875C25.456670000000003,14.280339975,25.456670000000003,13.720339975,25.118334,13.382004975000001Z"
												fill="currentColor" fill-opacity="1"
												style="mix-blend-mode:passthrough" />
										</g>
									</g>
								</svg>
								<div style="margin-left: 12px;">{{ $t("homepage.relogin") }}</div>
							</div>
							<div class="logout-item" @click="onLogout()">
								<svg fill="none" version="1.1" width="28" height="28" viewBox="0 0 28 28">
									<defs>
										<clipPath id="master_svg0_171_03836">
											<rect x="0" y="0" width="28" height="28" rx="0" />
										</clipPath>
									</defs>
									<g clip-path="url(#master_svg0_171_03836)">
										<g>
											<path
												d="M26.085709625,24.2947273125L24.732194624999998,21.9486332125C24.562662625,21.6560550125,24.141569625000002,21.6560550125,23.974772625,21.9486332125L23.252897224999998,23.1982427125L14.489225505,23.1982427125C14.248600455,23.1982427125,14.051725465,23.3951173125,14.051725465,23.6357427125L14.051725465,24.5107427125C14.051725465,24.7513676125,14.248600455,24.9482427125,14.489225505,24.9482427125L25.708365625,24.9482427125C26.044693625,24.9509773125,26.255240625,24.5845709125,26.085709625,24.2947273125ZM26.298990625000002,18.9736328425C26.298990625000002,18.7330078325,26.102115625,18.5361328125,25.861490625000002,18.5361328125L14.989616025,18.5361328125L14.989616025,18.5388671877L14.338834855,18.5388671877C14.002506715,18.5388671877,13.791959835,18.9025391025,13.958756711,19.1951172325L15.312272425,21.5412111125C15.481803625,21.8337893125,15.902897325,21.8337893125,16.069694325,21.5412111125L16.794303625,20.2861329125L25.861490625000002,20.2861329125C26.102115625,20.2861329125,26.298990625000002,20.0892579125,26.298990625000002,19.8486329125L26.298990625000002,18.9736328425Z"
												fill="currentColor" fill-opacity="1"
												style="mix-blend-mode:passthrough" />
										</g>
										<g>
											<path
												d="M21.1748545,14.79287059375C20.2178235,14.09833959375,19.1705575,13.55146459375,18.0549315,13.16044859375C17.8689935,13.09482359375,17.680322500000003,13.03466759375,17.4916505,12.97998059375C17.7869625,12.77216859375,18.0686035,12.53974659375,18.3283695,12.27724559375C19.4850105,11.12060549375,20.1221195,9.58115239375,20.1221195,7.94326159375C20.1221195,6.30537079375,19.4850105,4.76591799375,18.3283695,3.6092773937500002C17.1744635,2.4499023537499998,15.6350095,1.81005859375,13.9998535,1.81005859375C12.3646965,1.81005859375,10.8252439,2.44716793375,9.6686034,3.6065429937499998C8.5119629,4.76318359375,7.8748536,6.30263659375,7.8748536,7.94052739375C7.8748536,9.578417793749999,8.5119629,11.11787129375,9.6686034,12.27451159375C9.9283695,12.53427659375,10.2100096,12.76943259375,10.5053225,12.97724659375C10.0732908,13.10576159375,9.6494632,13.25888659375,9.2311034,13.43388659375C7.7709475,14.05185459375,6.4611816,14.93505859375,5.3373532,16.05888659375C4.213525300000001,17.18271459375,3.3303222999999997,18.49247959375,2.71235347,19.95263659375C2.13266596,21.32802759375,1.812744066,22.77724659375,1.75805656433,24.27294959375C1.7498534396,24.51904259375,1.9494628,24.72412059375,2.19555658,24.72412059375L3.0705565,24.72412059375C3.3057129,24.72412059375,3.4971192,24.54091859375,3.5080565999999997,24.30576159375C3.7295411,18.70849659375,8.3506351,14.22412059375,13.9998535,14.22412059375C16.225634499999998,14.22412059375,18.3338375,14.90224559375,20.1221195,16.19287059375C20.3135265,16.32958959375,20.5787605,16.29404259375,20.7236825,16.10810559375L21.2623535,15.41904259375C21.4182125,15.22216759375,21.3771975,14.93779259375,21.1748545,14.79287059375ZM9.6248536,7.94052739375C9.6248536,5.52607419375,11.5881338,3.56005859375,13.9998535,3.56005859375C16.4115725,3.56005859375,18.3748535,5.52607419375,18.3748535,7.94052739375C18.3748535,10.35498049375,16.4115725,12.32099659375,13.9998535,12.32099659375C11.5881338,12.32099659375,9.6248536,10.35771469375,9.6248536,7.94052739375Z"
												fill="currentColor" fill-opacity="1"
												style="mix-blend-mode:passthrough" />
										</g>
									</g>
								</svg>
								<div style="margin-left: 12px;">{{ $t("homepage.logout") }}</div>
							</div>
						</div>

					</el-popover>
				</div>
			</div>

			<!-- Navigation buttons -->
			<div id="btn-area">
				<div menu="recent" :class="['btn-item', { 'btn-item-selected': currentPage === 'recent' }]"
					@click="navigateToPage('recent')">
					<div class="btn-icon"><img class="left-icon" src="img/recent-icon.svg" /></div>
					<div>{{ $t("homepage.recent") }}</div>
				</div>
				<div v-if="region !== 'CN' && region !== ''" menu="online-models"
					:class="['btn-item', { 'btn-item-selected': currentPage === 'online-models' }]"
					@click="navigateToPage('online-models')">
					<div class="btn-icon"><img class="left-icon" src="img/online-models-icon.png" /></div>
					<div>{{ $t("homepage.onlineModels") }}</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="./navigation.js"></script>
</body>

</html>